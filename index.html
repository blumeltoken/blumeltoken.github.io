<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BLUMEL_AWAKENING_DASHBOARD</title>
    <script type="module">
        import { ethers } from "https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.min.js";

        // CONFIGURATION
        const ADDR = {
            BLUMELITY: "0x8Fa8082B32c2Fa1bebdfE5e7B2Ad4cAB7B29AB55",
            FAUCET: "0x96c5ef6F82Dc0281E09f2A5fE023f2F29CC9e8cB",
            CLAIM: "0x7d36Ae0Fc020E0EC7EEf18168F64c4604307e11C",
            V4_ROUTER: "0xa51afafe0263b40edaef0df8781ea9aa03e381a3",
            V2_ROUTER: "0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24",
            WETH: "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1"
        };

        const ABIS = {
            BLUMELITY: [
                "function claim(uint256 count) public",
                "function sellV4(uint256 count, uint256 minOut, address universalRouter, address weth, uint24 fee, int24 tickSpacing) public",
                "function withdraw() public"
            ],
            FAUCET: ["function faucet() public", "function spreadJoy(address[] investors, address[] others) public"],
            CLAIM: ["function multiClaim() public"]
        };

        let signer;
        async function init() {
            if (!window.ethereum) return log("ERR: WALLET_NOT_FOUND");
            const provider = new ethers.BrowserProvider(window.ethereum);
            signer = await provider.getSigner();
            log(`SYS: CONNECTED_${await signer.getAddress()}`);
        }

        window.exec = async (key, fn, ...args) => {
            try {
                const contract = new ethers.Contract(ADDR[key], ABIS[key], signer);
                log(`EXEC: ${key}.${fn}`);
                const tx = await contract[fn](...args);
                log(`PENDING: ${tx.hash}`);
                await tx.wait();
                log("CONFIRMED_SUCCESS");
            } catch (e) { log(`ERR: ${e.reason || e.message}`); }
        };

        function log(m) {
            const l = document.getElementById('log');
            l.innerHTML += `\n> ${m}`;
            l.scrollTop = l.scrollHeight;
        }
        window.onload = init;
    </script>
    <style>
        :root { --green: #00ff41; --bg: #050505; }
        body { background: var(--bg); color: var(--green); font-family: 'Courier New', monospace; padding: 2rem; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; }
        .box { border: 1px solid var(--green); padding: 1rem; background: #000; box-shadow: 0 0 10px #00ff4133; }
        h1, h2 { border-bottom: 1px solid var(--green); text-transform: uppercase; }
        input { background: #000; border: 1px solid var(--green); color: var(--green); width: 100%; margin: 5px 0; padding: 5px; }
        button { background: var(--green); color: #000; border: none; padding: 10px; width: 100%; font-weight: bold; cursor: pointer; margin-top: 5px; }
        button:hover { background: #fff; box-shadow: 0 0 15px var(--green); }
        #log { border: 1px solid #222; background: #000; height: 200px; overflow-y: auto; padding: 10px; font-size: 11px; white-space: pre-wrap; margin-top: 1rem; color: #008f11; }
    </style>
</head>
<body>
    <h1>BLUMEL_AWAKENING // ARBITRUM_CMD</h1>
    <div class="grid">
        <div class="box">
            <h2>01_BLUMELITY</h2>
            <input type="number" id="bClaim" value="120" placeholder="CLAIM_COUNT">
            <button onclick="exec('BLUMELITY', 'claim', document.getElementById('bClaim').value)">RUN_CLAIM</button>
            <button onclick="exec('BLUMELITY', 'sellV4', 100, 0, ADDR.V4_ROUTER, ADDR.WETH, 3000, 60)">V4_SWAP_100</button>
            <button onclick="exec('BLUMELITY', 'withdraw')">SWEEP_ALL</button>
        </div>
        <div class="box">
            <h2>02_FAUCET</h2>
            <button onclick="exec('FAUCET', 'faucet')">CALL_FAUCET</button>
            <input type="text" id="spreadList" placeholder="ADDR1,ADDR2 (no spaces)">
            <button onclick="exec('FAUCET', 'spreadJoy', document.getElementById('spreadList').value.split(','), [])">SPREAD_JOY</button>
        </div>
        <div class="box">
            <h2>03_CLAIM</h2>
            <button onclick="exec('CLAIM', 'multiClaim')">EXEC_MULTICLAIM_120</button>
        </div>
    </div>
    <h2>SYSTEM_LOG</h2>
    <div id="log">INITIALIZING_...</div>
</body>
</html>
